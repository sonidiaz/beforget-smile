!function(e){function t(t){for(var i,o,u=t[0],c=t[1],s=t[2],v=0,f=[];v<u.length;v++)o=u[v],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(l&&l(t);f.length;)f.shift()();return n.push.apply(n,s||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],i=!0,u=1;u<a.length;u++){var c=a[u];0!==r[c]&&(i=!1)}i&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var i={},r={0:0},n=[];function o(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=i,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(a,i,function(t){return e[t]}.bind(null,i));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=c;n.push([34,1]),a()}([,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){(function(t){function a(e,t,a){return(e=Math.min(Math.max((a-e)/(t-e),0),1))*e*(3-2*e)}function i(e,t,a){return Math.min(Math.max((a-e)/(t-e),0),1)}function r(e,t,a,i){return Math.pow(Math.min(Math.max((i-e)/(t-e),0),1),a)}function n(e,t){var a=t%8;return e[(t-a)/8]>>7-a&1}var o,u=function(){function e(e,t){return e=c.createShader(e),c.shaderSource(e,t),c.compileShader(e),!!c.getShaderParameter(e,c.COMPILE_STATUS)&&e}function t(t){if(void 0===t.aa&&(t.aa="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}"),void 0===t.da&&(t.da=["a0"]),void 0===t.U&&(t.U=[2]),void 0!==t.precision&&"highp"!==t.precision||(t.precision=o),t.id=r++,void 0!==t.fd&&t.fd.forEach((function(e,a){t.c=t.c.replace(e,t.qa[a])})),t.Sa=0,t.U.forEach((function(e){t.Sa+=4*e})),t.pa=function(t,a){t=e(c.VERTEX_SHADER,t),a=e(c.FRAGMENT_SHADER,a);var i=c.createProgram();return c.attachShader(i,t),c.attachShader(i,a),c.linkProgram(i),i}(t.aa,"precision "+t.precision+" float;\n"+t.c),t.l={},t.f.forEach((function(e){t.l[e]=c.getUniformLocation(t.pa,e)})),t.attributes={},t.V=[],t.da.forEach((function(e){var a=c.getAttribLocation(t.pa,e);t.attributes[e]=a,t.V.push(a)})),t.h)for(var n in c.useProgram(t.pa),i=t,a=t.id,t.h)c.uniform1i(t.l[n],t.h[n]);t.Wd=!0}var a=-1,i=!1,r=0,n=!1,o="highp",s=["u1"],v=["u0"],f={u1:0},d={u0:0},m={u1:0,u2:1},h={u3:0},p={s0:{c:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",f:s,h:f},s1:{c:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",f:s,h:f,precision:"lowp"},s2:{c:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",f:["u1","u2"],h:m},s3:{c:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",f:s,h:f},s4:{c:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",f:["u1","mask"],h:m},s5:{c:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",f:s,h:f},s6:{c:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",f:s,h:f},s7:{c:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u4;}",f:["u0","u4"],h:d},s8:{c:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;const vec4 g=vec4(.25,.25,.25,.25),e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u4,g);gl_FragColor=b*e;}",f:["u0","u4"],h:d},s9:{c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",f:s,h:f},s10:{c:"uniform sampler2D u1,u5;uniform float u6;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u5,vv0);gl_FragColor=mix(b,a,u6*f);}",f:["u1","u5","u6"],h:{u1:0,u5:1}},s11:{c:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u7)+texture2D(u1,vv0+u7*vec2(1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,1.)));}",f:["u1","u7"],h:f},s12:{c:"uniform sampler2D u1;uniform vec4 u8;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 k(float a){if(a==0.)return vec4(0.,0.,0.,0.);float l=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),m=c+127.,b=(a/exp2(c)-1.)*8388608.,d=m/2.,n=fract(d)*2.,o=floor(d),p=e(b,0.,8.),q=e(b,8.,16.),r=n*128.+e(b,16.,23.),j=l+o;return vec4(p,q,r,j)/255.;}void main(){float a=dot(texture2D(u1,vv0),u8);gl_FragColor=k(a);}",f:["u1","u8"],h:f},s13:{c:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",f:v,h:d},s14:{c:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(e,a);}",f:v,h:d},s15:{c:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-e,a,step(0.,a));}",f:v,h:d},s16:{c:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-e;gl_FragColor=mix(.1*b,a,step(0.,a));}",f:v,h:d},s17:{c:"uniform sampler2D u0,u6,u9;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u6,vv0),d=texture2D(u9,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",f:["u0","u6","u9"],h:{u0:0,u6:1,u9:2}},s18:{c:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",f:v,h:d},s19:{c:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(.5,.5,.5,.5);void main(){vec4 a=texture2D(u0,vv0),b=log(e+a);gl_FragColor=b;}",f:v,h:d},s20:{c:"uniform sampler2D u0;uniform float gain;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=exp(a);}",f:["u0","u10"],h:d},s21:{c:"uniform sampler2D u0,u11;uniform float u12;const vec2 f=vec2(.5,.5);const float g=1e-5;const vec4 h=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u11,f);float b=u12*u12;vec4 c=max(b*a,g*h);gl_FragColor=texture2D(u0,vv0)/c;}",f:["u0","u13","u12"],h:{u0:0,u13:1}},s22:{c:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){float a=u14.x*u14.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u14.y),g=floor(u14.x*fract(b*u14.y)),f=(g*u14.y+d)/a;gl_FragColor=texture2D(u1,f+c/a);}",f:["u1","u14"],h:f},s23:{c:"uniform sampler2D u15,u16,u17;varying vec2 vv0;void main(){vec4 a=texture2D(u17,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u15,b),e=texture2D(u16,c);gl_FragColor=d*e;}",f:["u15","u16","u17"],h:{u16:0,u15:1,u17:2}},s24:{c:"uniform float u18;uniform sampler2D u15,u16;varying vec2 vv0;void main(){vec2 a=fract(vv0*u18);vec4 b=texture2D(u15,vv0),c=texture2D(u16,a);gl_FragColor=b*c;}",f:["u16","u15","u18"],h:{u16:0,u15:1}},s25:{c:"uniform float u18;uniform sampler2D u15,u16,u19,u20,u21,u22;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 i=vv0*u18,m=floor(i),c=i-m;vec4 n=texture2D(u15,vv0),d=texture2D(u16,c),a=texture2D(u22,vv0);a=a*255.;vec4 o=texture2D(u19,c),p=texture2D(u20,c),q=texture2D(u21,c),j=step(-g,-a),b=e-j,k=b*step(-e-g,-a);b*=e-k;vec4 h=b*step(-2.*e-g,-a);b*=e-h;vec4 l=b;d=j*d+k*o+h*p+l*q,gl_FragColor=n*d;}",f:"u15 u16 u18 u22 u19 u20 u21".split(" "),h:{u16:0,u15:1,u22:3,u19:4,u20:5,u21:6}},s26:{c:"uniform sampler2D u15,u16,u23;uniform float u18,u24,u25,u26;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u24*vv0),g=u24*vv0-a;float b=u18/u24;vec2 c=floor(g*b),d=g*b-c,h=(a+d)/u24;float l=u24*u26/u18;vec2 m=l*c,i=(m+d*u25)/u26,e=step(i,j);vec4 n=texture2D(u15,h),o=texture2D(u16,i),p=n*o*e.x*e.y,k=texture2D(u23,h);gl_FragColor=p*u25*u25+k;}",f:"u15 u16 u18 u24 u25 u26 u23".split(" "),h:{u16:0,u15:1,u23:2}},s27:{c:"uniform sampler2D u15,u16;varying vec2 vv0;void main(){vec4 a=texture2D(u15,vv0),b=texture2D(u16,vv0);gl_FragColor=a*b;}",f:["u15","u16"],h:{u16:0,u15:1}},s28:{c:"uniform sampler2D u1,u23;uniform float u27;varying vec2 vv0;void main(){gl_FragColor=texture2D(u23,vv0)+u27*texture2D(u1,vv0);}",f:["u1","u23","u27"],h:{u1:0,u23:1}},s29:{c:"varying vec2 vv0;uniform sampler2D u1;const vec4 g=vec4(1.,1.,1.,1.),e=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,e)*g;}",f:s,h:f,precision:"lowp"},s30:{c:"varying vec2 vv0;uniform sampler2D u1;uniform float u28;const vec3 e=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u28)).rgb,c=texture2D(u1,vv0+vec2(u28,u28)).rgb,d=texture2D(u1,vv0+vec2(u28,0.)).rgb;gl_FragColor=vec4(dot(a,e),dot(b,e),dot(c,e),dot(d,e));}",f:["u1","u28"],h:f,precision:"lowp"},s31:{c:"varying vec2 vv0;uniform sampler2D u1;uniform float u28;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u28)).rgb,c=texture2D(u1,vv0+vec2(u28,u28)).rgb,d=texture2D(u1,vv0+vec2(u28,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",f:["u1","u28"],h:f,precision:"lowp"},s32:{c:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u29;const vec4 g=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u29,vv0.y-u29))*1.,a-=texture2D(u1,vec2(vv0.x-u29,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u29,vv0.y+u29))*1.,a+=texture2D(u1,vec2(vv0.x+u29,vv0.y-u29))*1.,a+=texture2D(u1,vec2(vv0.x+u29,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u29,vv0.y+u29))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u29,vv0.y-u29))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u29))*2.,b-=texture2D(u1,vec2(vv0.x+u29,vv0.y-u29))*1.,b+=texture2D(u1,vec2(vv0.x-u29,vv0.y+u29))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u29))*2.,b+=texture2D(u1,vec2(vv0.x+u29,vv0.y+u29))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),f=texture2D(u2,vv0);gl_FragColor=f.a*e.r*g;}",f:["u1","u2","u29"],h:m},s33:{c:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u29;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float i=0.;vec2 l=k*u29,b,c;float d,a,g=0.;for(float f=-4.;f<=4.;f+=1.)for(float e=-4.;e<=4.;e+=1.)b=vec2(f,e),d=length(b)/2.,a=exp(-d*d),c=vv0+l*b,a=1.,i+=a*texture2D(u1,c).r,g+=a;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,c).r-i/g)*j;}",f:["u1","u2","u29"],h:m},s34:{c:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 h=vec2(.5,.5),i=vec2(1.,0.),j=vec2(0.,1.);void main(){vec2 a=vv0-u7*h;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*i),d=texture2D(u3,a+u7*j),k=texture2D(u3,a+u7),l=e(b,c),g=e(d,k);gl_FragColor=e(l,g);}",f:["u3","u7"],h:h},s35:{c:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;const vec2 j=vec2(1.,0.),k=vec2(0.,1.),l=vec2(2.,0.),m=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*j),d=texture2D(u3,a+u7*k),g=texture2D(u3,a+u7),i=e(b,c),h=e(d,g);return e(i,h);}void main(){vec2 a=vv0+u7*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u7*l),d=f(a+u7*2.),g=f(a+u7*m),i=e(b,c),h=e(d,g);gl_FragColor=e(i,h);}",f:["u3","u7"],h:h},s36:{c:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",f:["u1"],h:f,precision:"lowp"},s37:{c:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const float d=15444.;void main(){vec4 a=1001./d*texture2D(u1,vv0-3.*u7)+2002./d*texture2D(u1,vv0-2.*u7)+3003./d*texture2D(u1,vv0-u7)+3432./d*texture2D(u1,vv0)+3003./d*texture2D(u1,vv0+u7)+2002./d*texture2D(u1,vv0+2.*u7)+1001./d*texture2D(u1,vv0+3.*u7);gl_FragColor=a;}",f:["u7","u1"],h:f,precision:"lowp"},s38:{c:"uniform sampler2D u1,u30,u31;varying vec2 vv0;const vec4 g=vec4(1.,1.,1.,1.);const float h=.1;void main(){vec4 a=texture2D(u30,vv0),b=texture2D(u31,vv0),c=texture2D(u1,vv0),d=max(g*h,b-a*a),f=sqrt(d);gl_FragColor=(c-a)/f;}",f:["u1","u30","u31"],h:{u1:0,u30:1,u31:2}}},b={s39:{c:"uniform float u18,u32;uniform sampler2D u15,u16,u23;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u23,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u18,xyTo=floor(vv0*u18+eps2);float weightSize=toSparsity*u18;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u32*(xyPatch-halfFromSparsity))/u18,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u15,uvWeight)*texture2D(u16,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",f:["u18","u15","u16","u23","u32"],qa:["1.1111","gl_FragColor\\*=2.2222;"]},s40:{c:"uniform float u18,u32,u26;uniform sampler2D u15,u16,u23;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u23,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u26,xyTo=floor(vv0*u18+eps2);float weightSize=fromSparsity*u26;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u18;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u32*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u26,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u15,uvWeight)*texture2D(u16,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",f:"u18 u26 u15 u16 u23 u32".split(" "),qa:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},E={Ka:function(){return n},i:function(){if(!n){for(var e in o="highp",p)t(p[e]);return u.set("s0"),c.enableVertexAttribArray(0),e=g.i(),n=!0,e}},Yb:function(e){e.forEach((function(e){E.Xa(e)}))},Xa:function(e){p[e.id]=e,t(e,e.id)},pb:function(e,a,i){a||(a=e),p[a]=Object.create(b[e]),b[e].qa&&b[e].qa.forEach((function(e,t){p[a].c=p[a].c.replace(new RegExp(e,"g"),i[t])})),t(p[a])},set:function(e){!function(e){l.md(E),a!==e.id&&(E.ta(),a=e.id,i=e,c.useProgram(e.pa),e.V.forEach((function(e){0!==e&&c.enableVertexAttribArray(e)})))}(p[e])},vc:function(e){return void 0!==p[e]},Id:function(){return i.Fd},ta:function(){-1!==a&&(a=-1,i.V.forEach((function(e){0!==e&&c.disableVertexAttribArray(e)})))},Pa:function(){var e=0;i.V.forEach((function(t,a){a=i.U[a],c.vertexAttribPointer(t,a,c.FLOAT,!1,i.Sa,e),e+=4*a}))},Ed:function(){c.enableVertexAttribArray(0)},Qa:function(){c.vertexAttribPointer(i.V[0],2,c.FLOAT,!1,8,0)},ge:function(e,t){c.uniform1i(i.l[e],t)},A:function(e,t){c.uniform1f(i.l[e],t)},Z:function(e,t,a){c.uniform2f(i.l[e],t,a)},he:function(e,t){c.uniform2fv(i.l[e],t)},ie:function(e,t){c.uniform3fv(i.l[e],t)},Nb:function(e,t,a,r){c.uniform3f(i.l[e],t,a,r)},Ob:function(e,t){c.uniform4fv(i.l[e],t)},je:function(e,t){c.uniformMatrix2fv(i.l[e],!1,t)},ke:function(e,t){c.uniformMatrix3fv(i.l[e],!1,t)},le:function(e,t){c.uniformMatrix4fv(i.l[e],!1,t)},C:function(e,t){E.set(e),t.forEach((function(e){switch(e.type){case"4f":c.uniform4fv(i.l[e.name],e.value);break;case"3f":c.uniform3fv(i.l[e.name],e.value);break;case"2f":c.uniform2fv(i.l[e.name],e.value);break;case"1f":c.uniform1f(i.l[e.name],e.value);break;case"1i":c.uniform1i(i.l[e.name],e.value);break;case"mat2":c.uniformMatrix2fv(i.l[e.name],!1,e.value);break;case"mat3":c.uniformMatrix3fv(i.l[e.name],!1,e.value);break;case"mat4":c.uniformMatrix4fv(i.l[e.name],!1,e.value)}}))},Pd:function(){return"lowp"}};return E}(),c=!1,s=function(){function e(e){return console.log("ERROR in ContextFeedForward : ",e),!1}var t=!1,a=!1,i=!1,r=!0,n=!1,o={o:function(){return t.width},F:function(){return t.height},ia:function(){return t},Hd:function(){return c},m:function(){return r},flush:function(){c.flush()},zc:function(){return n||(n=new Uint8Array(t.width*t.height*4)),c.readPixels(0,0,t.width,t.height,c.RGBA,c.UNSIGNED_BYTE,n),n},Kd:function(){return t.toDataURL("image/jpeg")},Ld:function(){f.D(),a||(a=document.createElement("canvas"),i=a.getContext("2d")),a.width=t.width,a.height=t.height;var e,r,n=o.zc(),u=i.createImageData(a.width,a.height),c=a.width,s=a.height,l=u.data;for(r=0;r<s;++r){var v=s-r-1;for(e=0;e<c;++e){var d=4*(r*c+e),m=4*(v*c+e);l[d]=n[m],l[d+1]=n[m+1],l[d+2]=n[m+2],l[d+3]=n[m+3]}}return i.putImageData(u,0,0),a.toDataURL("image/png")},Jd:function(e){!a&&e&&(a=document.createElement("canvas"),i=a.getContext("2d"));var r=e?a:document.createElement("canvas");return r.width=t.width,r.height=t.height,(e?i:r.getContext("2d")).drawImage(t,0,0),r},i:function(a){a.gb&&!a.fb?t=document.getElementById(a.gb):a.fb&&(t=a.fb),t||(t=document.createElement("canvas")),t.width=a&&void 0!==a.width?a.width:512,t.height=a&&void 0!==a.height?a.height:512,void 0===a&&(a={}),void 0===a.premultipliedAlpha&&(a.premultipliedAlpha=!1),void 0===a.Ja&&(a.Ja=!0),void 0===a.antialias&&(a.antialias=!1);var i={antialias:a.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:a.premultipliedAlpha,stencil:!1,depth:a.Ja};return function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return 12===(e=2<e.length?[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]:[0,0,0])[0]||13===e[0]}return!(!/(Mac)/i.test(navigator.platform)||((e=navigator.userAgent)?(e=e.match(/Mac OS X (\d+)_(\d+)/)||e.match(/Mac OS X (\d+).(\d+)/),e=!(!e||3>e.length)&&[parseInt(e[1],10),parseInt(e[2],10)]):e=!1,!e||10!==e[0]||15!==e[1]))}()||(c=t.getContext("webgl2",i)),c?r=!0:((c=t.getContext("webgl",i))||(c=t.getContext("experimental-webgl",i)),r=!1),c?(c.getExtension("WEBGL_lose_context")&&t.addEventListener("webglcontextlost",a.Zc,!1),h.i()?!h.gc()&&r?e("Your configuration cannot process color buffer float"):(c.clearColor(0,0,0,0),c.disable(c.DEPTH_TEST),c.disable(c.BLEND),c.disable(c.DITHER),c.disable(c.STENCIL_TEST),c.disable(c.SCISSOR_TEST),c.GENERATE_MIPMAP_HINT&&c.hint(c.GENERATE_MIPMAP_HINT,c.FASTEST),c.disable(c.SAMPLE_ALPHA_TO_COVERAGE),c.disable(c.SAMPLE_COVERAGE),!0):e("Not enough capabilities")):e("WebGL is not enabled")},Vd:function(){return!!u.i()&&(c.depthFunc(c.LEQUAL),c.clearDepth(1),!0)}};return o}(),l=(o=void 0===u?JEShaders:u,{md:function(e){o!==e&&(o.ta(),o=e)},Ka:function(){return o.Ka()},Qa:function(){o.Qa()},Pa:function(){o.Pa()},ta:function(){o.ta()},set:function(e){o.set(e)}}),v=function(){var e=null,t=null,a=0,i=-2,r=-2,n=!1,o={reset:function(){r=i=-2},i:function(){n||(e=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,e),c.bufferData(c.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),c.STATIC_DRAW),t=c.createBuffer(),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,t),c.bufferData(c.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),c.STATIC_DRAW),o.Aa(),n=!0)},a:function(e){var t=a++,n=e.K?e.K.length:0,o=void 0===e.mode?c.STATIC_DRAW:e.mode,u=c.createBuffer();if(c.bindBuffer(c.ARRAY_BUFFER,u),c.bufferData(c.ARRAY_BUFFER,e.Ub instanceof Float32Array?e.Ub:new Float32Array(e.Ub),o),i=t,e.K){var s=c.createBuffer();if(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,s),65536>e.K.length)var v=Uint16Array,f=c.UNSIGNED_SHORT,d=2;else v=Uint32Array,f=c.UNSIGNED_INT,d=4;c.bufferData(c.ELEMENT_ARRAY_BUFFER,e.K instanceof v?e.K:new v(e.K),o),r=t}var m={fc:function(e){i!==t&&(c.bindBuffer(c.ARRAY_BUFFER,u),i=t),e&&l.Pa()},dc:function(){r!==t&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,s),r=t)},bind:function(e){m.fc(e),m.dc()},Cd:function(){c.drawElements(c.TRIANGLES,n,f,0)},Dd:function(e,t){c.drawElements(c.TRIANGLES,e,f,t*d)},remove:function(){c.deleteBuffer(u),e.K&&c.deleteBuffer(s),m=null}};return m},Aa:function(){-1!==i&&(c.bindBuffer(c.ARRAY_BUFFER,e),i=-1),-1!==r&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,t),r=-1)},g:function(e,t){e&&v.Aa(),t&&l.Qa(),c.drawElements(c.TRIANGLES,3,c.UNSIGNED_SHORT,0)},yc:function(){c.deleteBuffer(e),c.deleteBuffer(t)}};return o}(),f=function(){var e=null,t=null,a=null,i=!1,r={s:-2,wc:1};return{i:function(){if(!i){e=c.createFramebuffer();var r=h.m();t=r&&c.DRAW_FRAMEBUFFER?c.DRAW_FRAMEBUFFER:c.FRAMEBUFFER,a=r&&c.READ_FRAMEBUFFER?c.READ_FRAMEBUFFER:c.FRAMEBUFFER,i=!0}},Nd:function(){return t},Fa:function(){return a},P:function(){return c.FRAMEBUFFER},Qd:function(){return r},Gd:function(){return e},a:function(a){void 0===a.sb&&(a.sb=!1);var i=!!a.$&&a.$,n=a.width,o=void 0!==a.height?a.height:a.width,u=e,s=!1,l=!1,v=0;i&&(n=n||i.o(),o=o||i.F());var f={Lb:function(){l||(u=c.createFramebuffer(),l=!0,v=r.wc++)},Xb:function(){f.Lb(),f.j(),s=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,s),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,n,o),c.framebufferRenderbuffer(t,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,s),c.clearDepth(1)},bind:function(e,a){v!==r.s&&(c.bindFramebuffer(t,u),r.s=v),i&&i.j(),a&&c.viewport(0,0,n,o),e&&c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},wd:function(){v!==r.s&&(c.bindFramebuffer(t,u),r.s=v)},clear:function(){c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},zd:function(){c.clear(c.COLOR_BUFFER_BIT)},Ad:function(){c.clear(c.DEPTH_BUFFER_BIT)},nd:function(){c.viewport(0,0,n,o)},j:function(){v!==r.s&&(c.bindFramebuffer(t,u),r.s=v)},rtt:function(e){i=e,r.s!==v&&(c.bindFramebuffer(c.FRAMEBUFFER,u),r.s=v),e.j()},D:function(){c.bindFramebuffer(t,null),r.s=-1},resize:function(e,t){n=e,o=t,s&&(c.bindRenderbuffer(c.RENDERBUFFER,s),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,n,o))},remove:function(){c.bindFramebuffer(t,u),c.framebufferTexture2D(t,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),s&&c.framebufferRenderbuffer(t,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,null),c.bindFramebuffer(t,null),c.deleteFramebuffer(u),s&&c.deleteRenderbuffer(s),f=null}};return a.sb&&f.Xb(),f},D:function(){c.bindFramebuffer(t,null),r.s=-1},sd:function(){c.bindFramebuffer(t,null),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),c.viewport(0,0,h.o(),h.F()),r.s=-1},reset:function(){r.s=-2},H:function(){0!==r.s&&(c.bindFramebuffer(t,e),r.s=0)},clear:function(){c.viewport(0,0,h.o(),h.F()),c.clear(c.COLOR_BUFFER_BIT)}}}(),d=function(){function e(e){c.bindTexture(c.TEXTURE_2D,e)}function a(e){var t=new Uint16Array(e.length);return e.forEach((function(e,a){t[a]=function(e){w[0]=e;var t=(e=C[0])>>16&32768,a=e>>12&2047,i=e>>23&255;return 103>i?t:142<i?31744|t|((255==i?0:1)&&8388607&e):113>i?t|((a|=2048)>>114-i)+(a>>113-i&1):t=(t|i-112<<10|a>>1)+(1&a)}(e)})),t}function i(e){if(!l.Ka()||!_)return null;try{c.getError();var t=P.a({isFloat:!1,B:!0,array:e,width:1});if(c.getError()!==c.NO_ERROR)return!1}catch(e){return!1}return f.D(),c.viewport(0,0,1,1),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),l.set("s0"),t.ab(0),v.g(!1,!0),e=new Uint8Array(4),c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,e),e=.9<e[0],t.remove(),f.H(),e}var r=0,o=null,s=0,d=null,m=!1,p=null,b=null,E=null,_=!1,y=!1,R=null,T=null,x=null,F=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],A=!1,D=!1,w=new Float32Array(1),C=new Int32Array(w.buffer),S={Ga:null,Ha:null},P={i:function(){if(!_){if(b=[c.RGB,!1,c.RGB,c.RGBA],E=[c.RGB,!1,c.RGB,c.RGBA],o=[c.TEXTURE0,c.TEXTURE1,c.TEXTURE2,c.TEXTURE3,c.TEXTURE4,c.TEXTURE5,c.TEXTURE6,c.TEXTURE7],A="undefined"!=typeof JEContext,D=void 0!==h,A&&JEContext.be()&&o.push(c.TEXTURE8,c.TEXTURE9),d=[-1,-1,-1,-1,-1,-1,-1,-1],p=[c.UNSIGNED_BYTE,c.FLOAT,c.FLOAT],!m){for(var e=new Float32Array(16384),t=0;16384>t;++t)e[t]=2*Math.random()-1;m={random:P.a({isFloat:!0,isPot:!0,array:e,width:64}),Sb:P.a({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}_=!0}},Ic:function(){P.td()},Td:function(){return m.Sb},td:function(){p[1]=h.ja()},hd:function(){E=b=[c.RGBA,c.RGBA,c.RGBA,c.RGBA]},cd:function(e,t){u.set("s1"),f.D();var a=e.o(),i=e.F();c.viewport(0,0,a,i),e.b(0),v.g(!1,!1),c.readPixels(0,0,a,i,c.RGBA,c.UNSIGNED_BYTE,t)},xc:function(t,a,i){c.activeTexture(c.TEXTURE0),r=0;var n=c.createTexture();e(n);var o=h.m()&&c.RGBA32F?c.RGBA32F:c.FLOAT;a=a instanceof Float32Array?a:new Float32Array(a);var s=Math.log2(a.length);s!==Math.floor(s)&&(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE)),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,i),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,t.o(),t.F(),0,c.RGBA,o,a),e(null),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),f.H(),u.set("s0"),t.u(),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),e(n),v.g(!0,!1),c.deleteTexture(n)},a:function(m){function _(){if(e(z),Z&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,Z),m.isPot?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,m.ub?c.MIRRORED_REPEAT:c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,m.L?c.MIRRORED_REPEAT:c.REPEAT)):(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE)),m.ma&&"undefined"!=typeof JESETTINGS&&c.texParameterf(c.TEXTURE_2D,JEContext.Md().TEXTURE_MAX_ANISOTROPY_EXT,JESETTINGS.vd),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,m.isLinear?c.LINEAR:c.NEAREST),m.isLinear?c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,m.isMipmap&&!Q?c.NEAREST_MIPMAP_LINEAR:c.LINEAR):c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,m.isMipmap&&!Q?c.NEAREST_MIPMAP_NEAREST:c.NEAREST),X=b[m.Y-1],k=E[m.Y-1],j=p[w],h.m()){var t=c.RGBA32F;X===c.RGBA&&j===c.FLOAT&&t&&(k=t),X===c.RGB&&j===c.FLOAT&&t&&(k=t,X=c.RGBA)}if((m.B&&!m.isFloat||m.isFloat&&m.isMipmap&&g.Lc())&&((t=c.RGBA16F)&&(k=t),j=h.ja()),m.xb&&void 0!==c.texStorage2D&&(te=m.xb),m.vb&&4===m.Y&&(X=JEContext.Rd()),m.v)c.texImage2D(c.TEXTURE_2D,0,k,X,j,m.v);else if(m.url)c.texImage2D(c.TEXTURE_2D,0,k,X,j,Y);else if(V){try{c.getError(),c.texImage2D(c.TEXTURE_2D,0,k,H,J,0,X,j,V),c.getError()!==c.NO_ERROR&&(c.texImage2D(c.TEXTURE_2D,0,k,H,J,0,X,j,null),c.getError()!==c.NO_ERROR&&c.texImage2D(c.TEXTURE_2D,0,c.RGBA,H,J,0,c.RGBA,c.UNSIGNED_BYTE,null))}catch(e){c.texImage2D(c.TEXTURE_2D,0,k,H,J,0,X,j,null)}m.isKeepArray||(V=null)}else c.texImage2D(c.TEXTURE_2D,0,k,H,J,0,X,j,null);if(m.isMipmap)if(!Q&&ie)ie.Ea(),ae=!0;else if(Q){var a;for(t=Math.log(Math.min(H,J))/Math.log(2),(ee=Array(1+t))[0]=z,a=1;a<=t;++a){var i=Math.pow(2,a),n=H/i;i=J/i;var o=c.createTexture();e(o),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.texImage2D(c.TEXTURE_2D,0,k,n,i,0,X,j,null),e(null),ee[a]=o}ae=!0}e(null),d[r]=-1,Z&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),$=!0,W&&ie&&(W(ie),W=!1)}void 0===m.isFloat&&(m.isFloat=!1),void 0===m.B&&(m.B=!1),void 0===m.isPot&&(m.isPot=!0),void 0===m.isLinear&&(m.isLinear=!1),void 0===m.isMipmap&&(m.isMipmap=!1),void 0===m.Ba&&(m.Ba=!1),void 0===m.ma&&(m.ma=!1),void 0===m.L&&(m.L=!1),void 0===m.ub&&(m.ub=!1),void 0===m.vb&&(m.vb=!1),void 0===m.Y&&(m.Y=4),void 0===m.tb&&(m.tb=!1),void 0===m.isFlipY&&(m.isFlipY=!(!m.url&&!m.array)),void 0===m.isKeepArray&&(m.isKeepArray=!1),m.data&&(m.array="string"==typeof m.data?function(e){var a=JSON.parse(e);e=a.ne;var i,r,o,u=a.nf,c=a.n,s="undefined"==typeof btoa?t.from(a.data,"base64").toString("latin1"):atob(a.data),l=s.length;for(a=new Uint8Array(l),i=0;i<l;++i)a[i]=s.charCodeAt(i);for(s=new Float32Array(c),l=new Float32Array(u),i=e+u+1,r=0;r<c;++r){var v=i*r,f=0===n(a,v)?1:-1,d=v+1,m=1,h=0;for(o=d+e-1;o>=d;--o)h+=m*n(a,o),m*=2;o=h,d=a,m=v+1+e;var g=0,p=(h=l).length;for(v=m;v<m+p;++v)h[g]=n(d,v),++g;for(v=d=0;v<u;++v)d+=l[v]*Math.pow(2,-v-1);f=0===d&&0===o?0:f*(1+d)*Math.pow(2,1+o-Math.pow(2,e-1)),s[r]=f}return s}(m.data):m.isFloat?new Float32Array(m.data):new Uint8Array(m.data),m.isFlipY=!1);var w=0,C=!!m.v,I=null,L=null,B=!1,N=null;m.isFloat&&(m.B=!0),m.B&&(w=1),m.tb||h.m()||!m.isFloat||!D||h.cb()||(m.isFloat=!1),m.isFloat&&(w=2),m.ma&&A&&!JEContext.Xd()&&(m.ma=!1);var U,O,M,G,k,X,j,z=c.createTexture(),W=m.Ba,Y=null,V=!1,H=0,J=0,$=!1,K=s++,q=!1,Z=m.isFlipY,Q=!(!m.B||!m.isMipmap||void 0===g||g.ic()),ee=null,te=-1,ae=!1;void 0!==m.width&&m.width&&(H=m.width,J=void 0!==m.height&&m.height?m.height:H);var ie={get:function(){return z},o:function(){return H},F:function(){return J},Ud:function(){return m.url},Yd:function(){return m.isFloat},$d:function(){return m.B},ae:function(){return m.isLinear},Ea:function(){c.generateMipmap(c.TEXTURE_2D)},bb:function(t,a){Q?(t||(t=ie.jb()),ie.za(a),e(ee[t]),d[a]=-1):ie.b(a)},jb:function(){return-1===te&&(te=Math.log(H)/Math.log(2)),te},ib:function(t){if(Q){t||(t=ie.jb()),u.set("s11"),ie.za(0);var a,i=H,r=J;for(a=1;a<=t;++a)i/=2,r/=2,u.Z("u7",.25/i,.25/r),c.viewport(0,0,i,r),e(ee[a-1]),c.framebufferTexture2D(f.P(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,ee[a],0),v.g(!1,1===a);d[0]=-1}else ie.Ea()},za:function(e){e!==r&&(c.activeTexture(o[e]),r=e)},b:function(t){return!!$&&(ie.za(t),d[t]!==K&&(e(z),d[t]=K,!0))},ab:function(t){c.activeTexture(o[t]),r=t,e(z),d[t]=K},j:function(){c.framebufferTexture2D(f.P(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,z,0)},u:function(){c.viewport(0,0,H,J),c.framebufferTexture2D(f.P(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,z,0)},pe:function(){c.framebufferTexture2D(f.P(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)},resize:function(e,t){H=e,J=t,_()},clone:function(e){return e=P.a({width:H,height:J,B:m.B,isFloat:m.isFloat,isLinear:m.isLinear,L:m.L,isFlipY:e?!Z:Z,isPot:m.isPot}),l.set("s0"),f.H(),e.j(),c.viewport(0,0,H,J),ie.b(0),v.g(!0,!0),e},nd:function(){c.viewport(0,0,H,J)},remove:function(){c.deleteTexture(z),ie=null},refresh:function(){ie.ab(0),Z&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0),C?c.texImage2D(c.TEXTURE_2D,0,k,X,c.UNSIGNED_BYTE,m.v):c.texImage2D(c.TEXTURE_2D,0,k,H,J,0,X,j,V),Z&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},eb:function(){var e=H*J*4;O=[new Uint8Array(e),new Uint8Array(e),new Uint8Array(e),new Uint8Array(e)],U=[new Float32Array(O[0].buffer),new Float32Array(O[1].buffer),new Float32Array(O[2].buffer),new Float32Array(O[3].buffer)],M=new Uint8Array(4*e),G=new Float32Array(M.buffer),q=!0},Oa:function(){q||ie.eb(),c.readPixels(0,0,H,4*J,c.RGBA,c.UNSIGNED_BYTE,M);var e,t=H*J,a=2*t,i=3*t;for(e=0;e<t;++e)U[0][e]=G[e],U[1][e]=G[e+t],U[2][e]=G[e+a],U[3][e]=G[e+i];return U},Ca:function(){f.D(),u.set("s12"),ie.b(0);for(var e=0;4>e;++e)c.viewport(0,J*e,H,J),u.Ob("u8",F[e]),v.g(!1,0===e)},qe:function(t){var a=j===p[0]&&!function(){if(null!==S.Ha)return S.Ha;var e=i(new Uint8Array([255,255,255,255]));return null===e||(S.Ha=e)}();e(z),Z&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,Z),a?(B||((I=document.createElement("canvas")).width=H,I.height=J,L=I.getContext("2d"),N=L.createImageData(H,J),B=!0),N.data.set(t),L.putImageData(N,0,0),c.texImage2D(c.TEXTURE_2D,0,k,X,j,I)):c.texImage2D(c.TEXTURE_2D,0,k,H,J,0,X,j,t),d[r]=K,Z&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},re:function(t,a){e(z),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,a),c.texImage2D(c.TEXTURE_2D,0,k,X,j,t),d[r]=K,a&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},ee:function(e,t){var a=H*J,i=4*a;switch(e=m.B?e?"RGBE":"JSON":"RGBA",t&&(e=t),t=h.m()&&!1,e){case"RGBE":var r="s41";break;case"JSON":r=t?"s0":"s12";break;case"RGBA":case"RGBAARRAY":r="s6"}if(q||("RGBA"===e||"RGBE"===e||"RGBAARRAY"===e?(O=new Uint8Array(i),q=!0):"JSON"!==e||t||ie.eb()),f.D(),u.set(r),ie.b(0),"RGBA"===e||"RGBE"===e||"RGBAARRAY"===e){if(c.viewport(0,0,H,J),v.g(!0,!0),c.readPixels(0,0,H,J,c.RGBA,c.UNSIGNED_BYTE,O),"RGBAARRAY"===e)return{data:O};y||(R=document.createElement("canvas"),T=R.getContext("2d"),y=!0),R.width=H,R.height=J,(x=T.createImageData(H,J)).data.set(O),T.putImageData(x,0,0);var n=R.toDataURL("image/png")}else if("JSON"===e)if(t)n=new Float32Array(a),c.viewport(0,0,H,J),v.g(!0,!0),c.readPixels(0,0,H,J,c.RGBA,c.FLOAT,n);else{for(n=0;4>n;++n)c.viewport(0,J*n,H,J),u.Ob("u8",F[n]),v.g(!n,!n);for(ie.Oa(),n=Array(a),r=0;r<a;++r)n[4*r]=U[0][r],n[4*r+1]=U[1][r],n[4*r+2]=U[2][r],n[4*r+3]=U[3][r]}return{format:e,data:n,width:H,height:J,isMirrorY:m.L,isFlipY:"RGBA"===e?m.isFlipY:!m.isFlipY}}};if(m.isMipmap&&!Q&&$&&!ae&&(ie.Ea(),ae=!0),m.url)e(z),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,null),(Y=new Image).Bd="Anonymous",Y.crossOrigin="Anonymous",Y.src=m.url,Y.onload=function(){H=Y.width,J=Y.height,_()};else if(m.v){!function e(){H=void 0!==m.v.videoWidth?m.v.videoWidth:m.v.width,J=void 0!==m.v.videoHeight?m.v.videoHeight:m.v.height,H?_():setTimeout(e,1)}()}else m.array?(m.B&&!m.isFloat?m.array instanceof Uint16Array?(V=m.array,_()):function(){if(null!==S.Ga)return S.Ga;var e=i(a([1,1,1,1]));return null===e||(S.Ga=e)}()?(V=a(m.array),_()):(_(),P.xc(ie,m.array,Z)):(V=m.isFloat?m.array instanceof Float32Array?m.array:new Float32Array(m.array):m.array instanceof Uint8Array?m.array:new Uint8Array(m.array),_()),m.isKeepArray||(V&&V!==m.array&&(V=null),delete m.array)):_();return ie.Gc=ie.o,W&&$&&(W(ie),W=!1),ie},D:function(t){t!==r&&(c.activeTexture(o[t]),r=t),d[t]=-1,e(null)},xd:function(e){m.random.b(e)},reset:function(){for(var e=0;e<o.length;++e)d[e]=-1;r=-1},de:function(){r=-1},me:function(){for(var e=0;e<o.length;++e)P.D(e)},yc:function(){m&&(m.random.remove(),m.Sb.remove())},oe:function(e,t){if("RGBA"===e.format||"RGBE"===e.format){var a=new Image;a.src=e.data,a.onload=function(){P.a({L:e.isMirrorY,isFlipY:e.isFlipY,isFloat:!1,v:a,Ba:function(a){if("RGBA"===e.format)t(a);else{var i=e.width,r=e.height,n=P.a({L:e.isMirrorY,isFloat:!0,width:i,height:r,isFlipY:e.isFlipY});f.H(),c.viewport(0,0,i,r),u.set("s42"),n.j(),a.b(0),v.g(!0,!0),P.D(0),t(n),c.flush(),setTimeout(a.remove,50)}}})}}else"JSON"===e.format?t(P.a({isFloat:!0,isFlipY:e.isFlipY,width:e.width,height:e.height,array:new Float32Array(e.data)})):t(!1)}};return P}(),m=function(e){var t=[d.a(e),d.a(e)],a=[t[1],t[0]],i=a,r={Mb:function(e){i[1].j(),i[0].b(e),r.Rb()},fe:function(e){i[1].u(),i[0].b(e),r.Rb()},Rb:function(){i=i===t?a:t},refresh:function(){i[0].refresh(),i[1].refresh()},b:function(e){i[0].b(e)},Bc:function(){return i[0]}};return r},h=function(){function e(){t=void 0===s?JEContext:s,a=!0}var t=null,a=!1,i=!1,r=!1,n=!1,o=!1,u=!1,l=!1,m=!1,h=!1,g=!1,p=!1,b=!0,E=!0,_=!0,y=null,R="undefined"==typeof window?{}:window,T={i:function(){return!!a||(e(),T.hb(),T.Da(),T.tc(),T.uc(),f.i(),d.i(),!!T.oc()&&(v.i(),d.Ic(),!0))},o:function(){return a||e(),t.o()},F:function(){return a||e(),t.F()},m:function(){return a||e(),t.m()},tc:function(){p=!!(g=c.getExtension("EXT_color_buffer_float")||c.getExtension("WEBGL_color_buffer_float")||c.getExtension("OES_color_buffer_float")),R.GL_EXT_COLORBUFFERFLOAT=g},uc:function(){c.getExtension("EXT_color_buffer_half_float")||c.getExtension("WEBGL_color_buffer_half_float")||c.getExtension("OES_color_buffer_half_float")},hb:function(){i||(this.m()||(r=c.getExtension("OES_texture_float")||c.getExtension("MOZ_OES_texture_float")||c.getExtension("WEBKIT_OES_texture_float"),o=!!(R.GL_EXT_FLOAT=r)),(o||this.m())&&(n=c.getExtension("OES_texture_float_linear")||c.getExtension("MOZ_OES_texture_float_linear")||c.getExtension("WEBKIT_OES_texture_float_linear"),R.GL_EXT_FLOATLINEAR=n),i=!0)},Da:function(){h||(this.m()||((u=c.getExtension("OES_texture_half_float")||c.getExtension("MOZ_OES_texture_half_float")||c.getExtension("WEBKIT_OES_texture_half_float"))&&(y=u.HALF_FLOAT_OES,l=!0),!y&&c.HALF_FLOAT&&(y=c.HALF_FLOAT),!y&&c.FLOAT&&(y=c.FLOAT),R.GL_EXT_HALFFLOAT=u),(l||this.m())&&(m=c.getExtension("OES_texture_half_float_linear")||c.getExtension("MOZ_OES_texture_half_float_linear")||c.getExtension("WEBKIT_OES_texture_half_float_linear"),R.GL_EXT_HALFFLOATLINEAR=m),h=!0)},ja:function(){return T.m()?c.HALF_FLOAT:(T.Da(),l?y:c.FLOAT)},cb:function(){return b},hc:function(){return E},yd:function(){return _},gc:function(){return p},qc:function(){E=b=!0;var e=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,e);var t=c.createTexture();c.bindTexture(c.TEXTURE_2D,t),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texImage2D(c.TEXTURE_2D,0,T.m()&&c.RGBA32F?c.RGBA32F:c.RGBA,1,1,0,c.RGBA,c.FLOAT,null),c.framebufferTexture2D(f.P(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,t,0);var a=c.checkFramebufferStatus(f.Fa());a!==c.FRAMEBUFFER_COMPLETE&&(b=!1),c.texImage2D(c.TEXTURE_2D,0,T.m()&&c.RGBA16F?c.RGBA16F:c.RGBA,1,1,0,c.RGBA,T.ja(),null),c.framebufferTexture2D(f.P(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,t,0),(a=c.checkFramebufferStatus(f.Fa()))!==c.FRAMEBUFFER_COMPLETE&&(E=!1),c.bindTexture(c.TEXTURE_2D,null),c.bindFramebuffer(c.FRAMEBUFFER,null),c.deleteTexture(t),c.deleteFramebuffer(e)},pc:function(){var e=f.a({width:1});e.Lb();var t=d.a({width:1,isFloat:!0,Y:3});e.j(),t.j(),c.flush(),c.checkFramebufferStatus(f.Fa())!==c.FRAMEBUFFER_COMPLETE?(d.hd(),_=!1):_=!0,e.remove(),t.remove()},oc:function(){return T.qc(),!(!b&&!E)&&(T.pc(),!0)}};return T}(),g=function(){function e(e,t,a,i){c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,i?c.NEAREST_MIPMAP_NEAREST:c.LINEAR);try{var r=c.getError();if(r!==c.NO_ERROR&&console.log("GLERR in test_mipmapping() :",r),c.texImage2D(c.TEXTURE_2D,0,e,2,2,0,c.RGBA,t,a),(r=c.getError())!==c.NO_ERROR)return!1}catch(e){return!1}return i&&c.generateMipmap(c.TEXTURE_2D),v.Aa(),v.g(!1,!0),c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,m),(r=c.getError())===c.INVALID_OPERATION&&void 0!==c.PIXEL_PACK_BUFFER&&(c.bindBuffer(c.PIXEL_PACK_BUFFER,null),c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,m),r=c.getError()),r===c.NO_ERROR&&0!==m[0]}function t(t){return!(!h.cb()||!e(r,c.FLOAT,new Float32Array(p),t))&&(d=l.Va,!0)}function a(t){return!!h.hc()&&(!(!e(n,h.ja(),new Uint16Array(p),t)&&!e(n,c.FLOAT,new Float32Array(p),t))&&(d=l.va,!0))}var i,r,n,o=!1,l={Va:3,va:2,RGBA8:0},d=l.RGBA8,m=new Uint8Array(4),g=[.8,1,.8,1],p=g.concat(g,g,g),b=!0,E={i:function(){if(h.hb(),h.Da(),n=r=c.RGBA,s.m()){var e=c.RGBA32F;e&&(r=e),(e=c.RGBA16F)&&(n=e)}if(v.i(),f.reset(),f.D(),c.viewport(0,0,1,1),u.set("s0"),o=!0,i=c.createTexture(),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,i),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),a(!0)||t(!0))return!0;if(b=!1,a(!1)||t(!1))return!0;if(s.m()){if(n=r=c.RGBA,a(!0)||t(!0))return!0;if(b=!1,a(!1)||t(!1))return!0}return!1},ic:function(){return b},Od:function(){return d},Zd:function(){return o||E.i(),d===l.Va},Lc:function(){return o||E.i(),d===l.va}};return E}(),p=function(e){var t=d.a(e.alpha),a=d.a(e.beta);return{sc:function(){t.b(1),a.b(2)}}},b=function(e){var t=e.pd;switch(t.index=e.index,t.M=e.M,t.parent=e.parent,t.type){case"input":e=E.a(t);break;default:e=_.a(t)}return e},E={a:function(e){var t=null,a=!1,i=!1,r=!1,n=!1,o=null,c=void 0!==e.preprocessing&&e.preprocessing,s=void 0===e.preprocessingSize?e.size:e.preprocessingSize;e.mask&&(a=!0,k&&void 0!==k.bc&&(e.mask=k.bc+e.mask),t=d.a({isFloat:!1,url:e.mask}));var l=!1;switch(e.customInputShader&&(l="s43",u.Xa({name:"_",id:l,c:e.customInputShader,f:["uSource"],precision:"lowp"}),u.C(l,[{type:"1i",name:"_",value:0}])),c){case"sobel":o="s32",r=!0;break;case"meanNormalization":o="s33",r=!0;break;case"grayScale":o="s29",r=!1;break;case"grayScaleTilt":o="s30",n=!0,r=!1;break;case"rgbGrayTilt":o="s31",n=!0,r=!1;break;case"copy":o=l||"s0";break;case"inputLightRegulation":o=l||"s29",w.i({rb:s,Eb:e.size,zb:e.nBlurPass,Kc:!1}),i=!0;break;case"direct":case"none":o=!1;break;default:o="s3"}n&&u.C(o,[{name:"u28",type:"1f",value:e.tilt}]),a&&(o+="Mask");var m=d.a({isFloat:!1,isPot:!1,width:e.size}),h={o:function(){return s},ka:function(){return h.o()},Ec:function(){return i?w.lb():m},w:function(){f.H(),o&&(u.set(o),r&&u.A("u29",1/e.size),m.u(),a&&t.b(1),v.g(!1,!1),m.b(0),i&&w.ad(m))}};return h}},_={a:function(e){void 0===e.disableNormalize&&(e.disableNormalize=!1);var t=[],a=[],i=null,r=null,n=!1,o=null,c=!0,s=null,l=-1,f=!!e.isReorganize&&e.isReorganize,m=!!e.kernelsNumber,h=!!e.dynPelu&&p(e.dynPelu),g=!!h,b={isEnabled:!1},E=null;if("softmax"===e.type){e.activation="softmax",e.size=Math.pow(2,Math.ceil(Math.log2(Math.sqrt(e.num_classes)))),e.sparsity=void 0!==e.sparsity?e.sparsity:e.M.ka(),e.gain=void 0!==e.gain?e.gain:1,u.C("s20",[{type:"1f",name:"u10",value:e.gain}]);var _=d.a({isFloat:!0,isPot:!1,width:e.size}),y=d.a({isFloat:!0,isPot:!1,width:e.size,isMipmap:!0});c=!1;for(var w=new Uint8Array(Math.pow(4*e.size,2)),C=0;C<e.size*e.size;++C){var S=C<e.num_classes?255:0;w[4*C]=S,w[4*C+1]=S,w[4*C+2]=S,w[4*C+3]=S}var P=d.a({isFloat:!1,isPot:!1,width:e.size,array:w})}else e.cost?(e.sparsity=void 0!==e.sparsity?e.sparsity:e.M.ka(),c=!1):"full"===e.connectivityUp&&(e.sparsity=e.M.ka());var I={elu:"s15",elu01:"s16",relu:"s14",arctan:"s18",sigmoid:"s13",copy:"s0",softplus:"s19",softmax:"s20",dynPelu:"s17"}[e.activation],L=e.sparsity*e.sparsity,B=!1,N=e.size;if(e.maxPooling){switch(e.maxPooling.size){case 2:var U="s34";break;case 4:U="s35"}B=!0,N/=e.maxPooling.size;var O=d.a({isFloat:!0,isPot:!1,width:N})}var M=!(void 0===e.Yc||!e.Yc),G=null,k=null,X=null;M&&(G="s44"+e.index.toString(),u.pb("s44",G,[((e.normalization.n-1)/2).toFixed(1)]),u.C(G,[{type:"1i",name:"u1",value:0},{type:"2f",name:"u7",value:[1/e.size,1/e.size]},{type:"1f",name:"u6",value:e.normalization.alpha},{type:"1f",name:"u9",value:e.normalization.beta},{type:"1f",name:"u33",value:e.normalization.k}]),w={isFloat:!0,isPot:!0,width:e.size},k=d.a(w),X=d.a(w));var j=null,z=-1,W=null,Y=null,V=null;c&&(Y=d.a({isFloat:!0,isPot:!1,width:e.size}));var H=d.a(e.bias),J={o:function(){return e.size},ka:function(){return N},kb:function(){return e.num_classes},ec:function(e){E.b(e)},bd:function(){e.remap&&e.remap.isEnabled&&(b={isEnabled:!0,Nc:d.a({isFloat:!1,isFlipY:!1,array:new Uint8Array(e.remap.maskTexture.data),width:e.remap.maskTexture.width,isPot:!1}),layers:e.remap.layers.map((function(t){return e.parent.Cc(t)})),depth:e.remap.depth})},kd:function(){switch(e.connectivityUp){case"gaussian":V=x.a(e.connectivity);break;case"direct":V=R.a(e.connectivity);break;case"square":V=F.a(e.connectivity);break;case"squareFast":V=D.a(e.connectivity,e.activation);break;case"full":V=T.a(e.connectivity);break;case"conv":l=e.kernelsNumber,V=A.a(e.connectivity),f&&(s=d.a({width:N,isFloat:!0,isFlipY:!1,isPot:!1}))}if(V.N){var t=e.size*e.sparsity;z=Math.log(t/e.size)/Math.log(2),j=d.a({isMipmap:!0,isFloat:!0,isPot:!0,width:t,xb:z}),W=d.a({isFloat:!0,isPot:!0,width:e.size})}},w:function(t,a){if(E=t,V.N?(j.u(),m&&H.b(2),V.w(b),j.b(0),j.ib(z),W.u(),m?u.set("s0"):(u.set("s28"),u.A("u27",L),H.b(1)),j.bb(z,0),v.g(!1,!1),u.set(I),M?k.j():Y.j(),W.b(0),g&&h.sc(),v.g(!1,!1)):(Y.u(),H.b(1),V.w()),M&&(u.set(G),X.j(),k.b(0),v.g(!1,!1),u.set("s45"),u.A("u6",1),Y.j(),X.b(1),v.g(!1,!1)),c)return B?(O.u(),Y.b(0),u.set(U),u.Z("u7",1/e.size,1/e.size),v.g(!1,!1),a=O):a=Y,a.b(0),f&&(s.j(),u.set("s22"),u.Z("u14",l,N/l),v.g(!1,!1),a=s,s.b(0)),a;if("softmax"===e.type)return u.set("s20"),Y.b(0),_.j(),v.g(!1,!1),e.disableNormalize?t=_:(u.set("s2"),_.b(0),P.b(1),y.j(),v.g(!1,!1),u.set("s0"),r.u(),y.b(0),y.ib(!1),v.g(!1,!1),u.set("s21"),i.u(),y.bb(!1,0),u.A("u12",Y.Gc()),r.b(1),v.g(!1,!1),t=i),!!a&&J.Fb(t);if(e.cost){switch(u.set("gpuRawAvg"===n?"s8":"s7"),a=Y,e.disableNormalize||(u.A("u4",1/e.size),i.u(),Y.b(0),v.g(!1,!1),a=i),n){case"cpuRGBA2Float":a.Ca(),a=J.Fb(a),o(a);break;case"gpuRawAvg":case"gpuRaw":a.b(0);case"none":o(a)}return!1}},lc:function(u){u&&void 0!==u.Db&&(n=u.Db,o=u.$c),Y=d.a({isFloat:!0,isPot:!0,isMipmap:"softmax"===e.type,width:e.size}),"softmax"===e.type&&(r=d.a({isFloat:!0,isPot:!0,width:1})),u=void 0!==e.num_classes&&e.num_classes?e.num_classes:e.size*e.size;for(var c=0,s=0,l=0;c<u;++c)t.push(s+(e.size-1-l)*e.size),a.push([-1,-1,-1,-1]),++s===e.size&&(s=0,++l);e.disableNormalize||(i=d.a({isFloat:!0,isPot:!0,width:e.size}))},Fb:function(e){e.Ca();var i=e.Oa();return t.forEach((function(e,t){a[t][0]=i[0][e],a[t][1]=i[1][e],a[t][2]=i[2][e],a[t][3]=i[3][e]})),a}};return e.M&&J.kd(e.M),J}};function y(){var e={},t=null,a=null,i=null;e||(e={}),this.Cc=function(e){return t[e]},this.gd=function(e){var r=null;t=e.map((function(e,t){return r=b({index:t,parent:this,pd:e,M:r})})),a=t[0],i=t[t.length-1],t.forEach((function(e,t){0!==t&&e.bd()}))},this.w=function(e,a){var i=a;return t.forEach((function(t){i=t.w(i,e)})),i},this.Ac=function(){return a.o()},this.Fc=function(){return i.o()},this.lb=function(){return i.Ec()},this.jd=function(e){i.lc(e)},this.kb=function(){return i.kb()}}var R={a:function(e){var t=d.a(e.weights);return delete e.weights.data,{N:!0,X:function(){return 1},Hc:function(){return t},w:function(){u.set("s27"),t.b(1),v.g(!1,!1)}}}},T={a:function(e){var t=e.fromLayerSize,a=d.a(e.weights);return{N:!0,X:function(){return t},w:function(t){if(t.isEnabled){u.set("s25"),t.Nc.b(3);var i,r=Math.min(t.layers.length,t.depth);for(i=0;i<r;++i)t.layers[i].ec(4+i)}else u.set("s24");u.A("u18",e.toLayerSize),a.b(1),v.g(!1,!1)}}}},x={a:function(e){var t=e.toSparsity*e.toLayerSize,a=t/e.fromLayerSize,i=d.a(e.weights);d.a({width:t,isFloat:!0,array:new Float32Array(e.fromBindings),isPot:!0});var r=d.a({width:t,isFloat:!0,array:new Float32Array(e.toBindings),isPot:!0});return{N:!0,X:function(){return a},w:function(){u.set("s23"),i.b(1),r.b(2),v.g(!1,!0)}}}},F={a:function(e){var t,a,i,r,n=e.fromLayerSize,o=e.toLayerSize,c=e.toSparsity,s=c*o,l=s/n,f=n/o,m=0,h=0,g=Array(c*o*c*o*4),p=Array(c*o*c*o*4),b=Array(n*n);for(t=0;t<b.length;++t)b[t]=0;var E=Math.floor(c/2),_=.5/o,y=.5/n,R=.5/s;for(t=0;t<o;++t)for(a=0;a<o;++a){var T=Math.round(t*f),x=Math.round(a*f),F=t/o,A=a/o;for(F+=_,A+=_,i=0;i<c;++i)for(r=0;r<c;++r){var D=m/s,w=h/s,C=T+i-E,S=x+r-E;0>C&&(C+=n),0>S&&(S+=n),C>=n&&(C-=n),S>=n&&(S-=n);var P=C/n,I=S/n;w=1-w-1/s,P+=y,I+=y,D+=R,w+=R;var L=t*c+i,B=a*c+r;g[4*(L=(B=o*c-B-1)*o*c+L)]=D,g[4*L+1]=w,g[4*L+2]=P,g[4*L+3]=I,P=b[S*n+C]++,p[4*(S=(S=n*l-1-(S=S*l+(P-(I=P%l))/l))*n*l+(C=C*l+I))]=D,p[4*S+1]=w,p[4*S+2]=F,p[4*S+3]=A,++m>=s&&(m=0,++h)}}var N=d.a(e.weights);d.a({width:s,isFloat:!0,array:new Float32Array(p),isPot:!0}),p=null;var U=d.a({width:s,isFloat:!0,array:new Float32Array(g),isPot:!0});return g=null,{N:!0,X:function(){return l},w:function(){u.set("s23"),N.b(1),U.b(2),v.g(!1,!1)}}}},A={a:function(e){var t=e.kernelsNumber,a=e.toSparsity,i=a*e.toLayerSize/e.fromLayerSize,r=d.a(e.weights);return{N:!0,X:function(){return i},Sd:function(){return a},Hc:function(){return r},w:function(){u.set("s26"),u.A("u24",t),u.A("u25",a),u.A("u18",e.toLayerSize),u.A("u26",e.fromLayerSize),r.b(1),v.g(!1,!1)}}}},D={a:function(e,t){var a=e.fromLayerSize,i=e.toLayerSize,r=e.toSparsity,n=e.stride?e.stride:1,o=r*i/a,c=i<a,s=a/i,l=d.a(e.weights),f="s46"+[a.toString(),i.toString(),r.toString(),n.toString(),t].join("_");return u.vc(f)||(e=function(e){switch(e){case"relu":return"gl_FragColor=max(vec4(0.,0.,0.,0.),gl_FragColor);";case"elu":return"gl_FragColor=mix(exp(-abs(gl_FragColor))-vec4(1.,1.,1.,1.),gl_FragColor,step(0.,gl_FragColor));";case"elu01":return"gl_FragColor=mix(0.1*exp(-abs(gl_FragColor))-vec4(0.1,0.1,0.1,0.1),gl_FragColor,step(0.,gl_FragColor));";case"arctan":return"gl_FragColor=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case"copy":return"";default:return!1}}(t),i=[{type:"1f",name:"u18",value:i},{type:"1f",name:"u32",value:n}],c&&i.push({type:"1f",name:"u26",value:a}),a=[(c?o:r).toFixed(1),e],c&&a.push(s.toFixed(1)),u.pb(c?"s40":"s39",f,a),u.C(f,i.concat([{type:"1i",name:"u16",value:0},{type:"1i",name:"u23",value:1},{type:"1i",name:"u15",value:3}]))),{N:!1,X:function(){return o},w:function(){u.set(f),l.b(3),v.g(!1,!1)}}}},w=function(){var e=-1,t=-1,a=-1,i=-1,r=!1,n=null,o=null,c=null,s=null,l=null;return{i:function(u){e=u.zb?u.zb:3,t=u.rb?u.rb:64,a=u.Eb?u.Eb:64,r=!!u.Kc,u={isFloat:!1,width:t,isPot:!1,isFlipY:!1},n=d.a(u),o=d.a(u),c=d.a(u),s=d.a(u),l=d.a({isFloat:!0,width:a,isPot:!1,isFlipY:!1}),i=1/t},ad:function(t){u.set("s36"),s.j(),v.g(r,!1),u.set("s37");for(var a=0;a<e;++a)n.j(),u.Z("u7",i,0),v.g(r,!1),c.j(),s.b(0),v.g(r,!1),o.j(),n.b(0),u.Z("u7",0,i),v.g(r,!1),s.j(),c.b(0),v.g(r,!1),a!==e-1&&o.b(0);u.set("s38"),l.j(),t.b(0),o.b(1),s.b(2),v.g(r,!1),l.b(0)},lb:function(){return l}}}();function C(e,t){e[t]=!0,e.setAttribute(t,"true")}function S(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function P(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("safari")&&-1===e.indexOf("chrome")}function I(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}function L(e){var t=e.video.width;return e.video.width=e.video.height,e.video.height=t,e}function B(e){if(e.volume=0,C(e,"muted"),P()){if(1===e.volume){var t=function t(){e.volume=0,window.removeEventListener("mousemove",t,!1),window.removeEventListener("touchstart",t,!1)};window.addEventListener("mousemove",t,!1),window.addEventListener("touchstart",t,!1)}setTimeout((function(){e.volume=0,C(e,"muted")}),5)}}function N(e,t,a,i){function r(e){n||(n=!0,a(e))}var n=!1;navigator.mediaDevices.getUserMedia(i).then((function(a){function i(){setTimeout((function(){if(e.currentTime){var i=e.videoWidth,o=e.videoHeight;if(0===i||0===o)r("VIDEO_NULLSIZE");else{i&&(e.style.width=i.toString()+"px"),o&&(e.style.height=o.toString()+"px"),i={jc:null,od:null,Qc:null};try{var u=a.getVideoTracks()[0];u&&(i.Qc=u,i.jc=u.getCapabilities(),i.od=u.getSettings())}catch(e){}P()||S()?e.parentNode&&null!==e.parentNode?(n||t(e,a,i),setTimeout((function(){e.play()}),100)):(document.body.appendChild(e),B(e),n||t(e,a,i),setTimeout((function(){e.style.transform="scale(0.0001,0.0001)",e.style.position="fixed",e.style.bottom="0px",e.style.right="0px",B(e),setTimeout((function(){e.play()}),100)}),80)):n||t(e,a,i)}}else r("VIDEO_NOTSTARTED")}),700)}void 0!==e.srcObject?e.srcObject=a:(e.src=window.URL.createObjectURL(a),e.videoStream=a),B(e),e.addEventListener("loadeddata",(function(){var t=e.play();B(e),void 0===t?i():t.then((function(){i()})).catch((function(){r("VIDEO_PLAYPROMISEREJECTED")}))}),!1)})).catch((function(e){r(e)}))}function U(e,t,a){var i=!!I()&&document.createElement("video");if(i)if(I()){if(a&&a.video){if(S()){var r=function(){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return 2<e.length?[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]:[0,0,0]}();(12>r[0]||12===r[0]&&2>r[1])&&function(e){try{var t=!!window.matchMedia("(orientation: portrait)").matches}catch(e){t=window.innerHeight>window.innerWidth}if(t&&e&&e.video){t=e.video.width;var a=e.video.height;t&&a&&t.ideal&&a.ideal&&t.ideal>a.ideal&&(e.video.height=t,e.video.width=a)}}(a)}a.video.width&&a.video.width.ideal&&(i.style.width=a.video.width.ideal+"px"),a.video.height&&a.video.height.ideal&&(i.style.height=a.video.height.ideal+"px")}C(i,"autoplay"),C(i,"playsinline"),a&&a.audio?i.volume=0:C(i,"muted"),N(i,e,(function(){!function a(r){if(0===r.length)t("INVALID_FALLBACKCONSTRAINTS");else{var n=r.shift();N(i,e,(function(){a(r)}),n)}}(function(e){function t(e){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort((function(t,a){return Math.abs(t-e)-Math.abs(a-e)}))}function a(t){var a=function(e){if(!e)return e;var t=!1;if(e.video){var a=function(e){var t={};return void 0!==e.min&&(t.min=e.min),void 0!==e.max&&(t.max=e.max),void 0!==e.ideal&&(t.ideal=e.ideal),t};t={},void 0!==e.video.width&&(t.width=a(e.video.width)),void 0!==e.video.height&&(t.height=a(e.video.height)),void 0!==e.video.facingMode&&(t.facingMode=e.video.facingMode)}return t={audio:e.audio,video:t},void 0!==e.deviceId&&(t.deviceId=e.deviceId),t}(e);i.push(t(a))}var i=[];if(!e||!e.video)return i;if(e.video.width&&e.video.height){if(e.video.width.ideal&&e.video.height.ideal){var r=t(e.video.width.ideal).slice(0,3),n=t(e.video.height.ideal).slice(0,3),o={},u=0;for(o.J=void 0;u<r.length;o={J:o.J},++u){o.J=r[u];var c={},s=0;for(c.I=void 0;s<n.length;c={I:c.I},++s)if(c.I=n[s],o.J!==e.video.width.ideal||c.I!==e.video.height.ideal){var l=Math.max(o.J,c.I)/Math.min(o.J,c.I);l<4/3-.1||l>16/9+.1||a(function(e,t){return function(a){return a.video.width.ideal=e.J,a.video.height.ideal=t.I,a}}(o,c))}}}a((function(e){return L(e)}))}return e.video.width&&e.video.height&&(e.video.width.ideal&&e.video.height.ideal&&a((function(e){return delete e.video.width.ideal,delete e.video.height.ideal,e})),a((function(e){return delete e.video.width,delete e.video.height,e}))),e.video.facingMode&&(a((function(e){return delete e.video.facingMode,e})),e.video.width&&e.video.height&&a((function(e){return L(e),delete e.video.facingMode,e}))),i.push({audio:e.audio,video:!0}),i}(a))}),a)}else t&&t("MEDIASTREAMAPI_NOTFOUND");else t&&t("VIDEO_NOTPROVIDED")}var O=function(){var e,t,a,i,r=0;return{i:function(n,o){r=n.length,e=o,t=n,a=new Float32Array(r),i=new Float32Array(r)},Dc:function(){return i},qd:function(r,n,o){r.forEach((function(r,u){var c=Math.min(1,t[u]*o*(n+.33*(1-n)));r=c*r+(1-c)*a[u],a[u]=r,i[u]=e[u](r)}))}}}(),M={T:[],xa:!1,ya:!1,wa:!1,Wa:!1,ca:!0,ba:!1,ready:!1,initialized:!1},G={facingMode:"user",idealWidth:320,idealHeight:240,minWidth:240,maxWidth:1280,minHeight:240,maxHeight:1280},k={save:"jeefacetransferNNC.json",Ta:"../../",$b:0,width:512,height:512,Rc:.25,Oc:.7,Vc:3,borderWidth:.4,W:.35,Wc:5,Xc:3,Ra:[.06,.08,.15],rd:55,Sc:.6,Pc:5.8,Wb:.75,Vb:1,Ya:[.03,1],ud:20,ea:.2,O:[30,55],Ua:3,cc:1/3.5,Cb:11,yb:1,Tc:1,Za:[.1,.01],dd:[.4,-.7,-.4],ed:[.3,0,0],Kb:[5,7],rc:!1,S:[0,7],ac:.001,$a:[Math.PI/10,Math.PI/6],Gb:[0,6],Hb:[.1,.4],Ib:[.009,.02],Jb:[.02,.04],Ma:8,ob:[3,7],nb:.05,Zb:[.2,.2,.15,.15,.15,.15,.2,.2,.15,.15,.2],Uc:[a.bind(null,.05,.7),a.bind(null,.05,.7),a.bind(null,0,.4),a.bind(null,0,.4),a.bind(null,0,.6),a.bind(null,0,.6),i.bind(null,.1,.6),a.bind(null,.1,.4),r.bind(null,.68,.77,2),r.bind(null,.68,.77,2),a.bind(null,.15,.5)]};M.get_nMorphs=function(){return k.Cb};var X=null,j=null,z=null;function W(){var e,t,a,r,n,o,l,h,g,p,b;function E(){1==++ee&&(O.i(k.Zb,k.Uc),V=function(){for(var e=k.Cb,t=Array(e),a=0;a<e;++a)t[a]=0;return t}(),I=new Uint8Array(D*D*4),M.get_morphTargetInfluences=function(){return V},M.get_morphTargetInfluencesStabilized=function(){return O.Dc()},M.set_morphUpdateCallback=function(e){H=e},M.get_rotation=function(){return $},M.get_positionScale=function(){var e=Y.Qb.Bc();return e.Ca(),e=e.Oa(),Z[0]=1-e[1][0],Z[1]=e[2][0],Z[2]=e[3][0]*w[0],Z},M.get_rotationStabilized=function(){return q},M.switch_sleep=function(e){ae!==te.ra||e?ae=e?te.ra:te.ha:_()},M.on_detect=function(e){e(ie.G),ie.Na.push(e)},M.is_detected=function(){return ie.G},M.set_animateDelay=function(e){B=e},M.ready=!0,M.T.forEach((function(e){e()})),M.T.splice(0,M.T.length),_(),ee=0)}function _(){ae!==te.ha&&(ae=te.ha,re.timestamp=Date.now(),N&&window.clearTimeout(N),W&&window.cancelAnimationFrame(W),T())}function R(){ae!==te.ra&&(N=setTimeout(T,B))}function T(){e:{if("VIDEO"===Q.element.nodeName){var e=Q.element.currentTime-de;if(0>e&&(de=Q.element.currentTime),1e3*e<k.ud)break e;de+=e}Q.$.refresh(),(e=me.mb())[0]===Q.ga_[0]&&e[1]===Q.ga_[1]||me.Tb(),u.set("s48"),f.H(),Y.Ia.u(),Q.$.b(0),v.g(!1,!0)}e=ae===te.ha?re.oa:1;for(var t=0;t<e;++t){var a=Y,i=A;u.set("s49"),f.H(),a.la.u(),a.Ia.b(0),a.sa.b(1),v.g(!1,!1),a.la.b(0),i.w(!1,a.la)}M.ca&&(f.sd(),u.set("s5"),Y.Ia.b(0),v.g(!1,!1),c.enable(c.BLEND),c.blendFunc(c.SRC_ALPHA,c.ONE),P.b(0),v.g(!1,!1),c.disable(c.BLEND)),c.flush(),a=(t=Date.now())-re.timestamp,re.timestamp=t,re.Ab=e/a,re.La=re.Ab*k.ea+re.La*(1-k.ea),re.Bb=1e3/a,re.R=re.Bb*k.ea+re.R*(1-k.ea),re.R>k.O[1]?(++re.oa,re.R=(k.O[0]+k.O[1])/2):re.R<k.O[0]&&(re.oa=Math.max(re.oa-1,k.Ua),re.R=(k.O[0]+k.O[1])/2),re.fa=k.cc/Math.max(re.La,.001),ae!==te.ra&&(W=window.requestAnimationFrame(R))}var x,F,A,D,w,C,S,P,I,L=64,B=k.$b,N=!1,W=!1,Y={},V=!1,H=!1,J=[0,0,0],$=[0,0,0],K=[0,0,0],q=[0,0,0],Z=[0,0,0],Q={element:null,$:null,ga_:[-1,-1]},ee=0,te={Mc:-2,ra:-1,ha:0},ae=te.Mc,ie={na:0,G:!1,Na:[]},re={timestamp:0,Ab:0,La:0,oa:k.Ua,Bb:0,R:0,fa:1},ne=1,oe=1,ue=1,ce=1,se=[0,0,0],le=Date.now(),ve=new Float32Array(k.Ma),fe=0,de=0,me={qb:function(){x=k.width,F=k.height,C=k.Rc,S=k.Oc;var i=x/L;C*=i,S*=i,n=(1-2*k.borderWidth)/k.Wc,o=(1-2*k.W)/k.Xc,l=(S-C)/k.Vc,h=k.borderWidth,g=k.W,p=1-k.borderWidth,b=1-k.W,e=0,t=k.borderWidth,a=k.W,r=C,w=[L/x,L/F]},Pb:function(){u.C("s49",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u34",value:1},{type:"2f",name:"u35",value:w}]),u.C("s50",[{type:"1i",name:"u34",value:0},{type:"2f",name:"u35",value:w},{type:"3f",name:"u36",value:[0,.5,1]}]),u.C("s51",[{type:"1i",name:"u37",value:0},{type:"1i",name:"u34",value:1},{type:"1f",name:"u38",value:k.Sc},{type:"1f",name:"u39",value:k.Pc},{type:"1f",name:"u40",value:k.rd},{type:"1f",name:"u41",value:k.Wb},{type:"1f",name:"u42",value:k.Vb},{type:"1f",name:"u43",value:w[0]}]),u.C("s52",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u5",value:1},{type:"1f",name:"u44",value:k.Ya[0]},{type:"1f",name:"u45",value:k.Ya[1]}])},mc:function(){u.Yb([{id:"s48",name:"_",aa:"attribute vec2 a0;uniform vec2 u46,u47;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=u47+u46*a0;}",da:["a0"],U:[2],c:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",f:["u1","u46","u47"],precision:"lowp"},{id:"s49",name:"_",c:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",aa:"attribute vec2 a0;uniform sampler2D u34;uniform vec2 u35;const vec2 f=vec2(.25,.5),h=vec2(.75,.5),e=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u34,f);vec2 b=a.gb,c=a.a*u35,d=a0*.5+e;vv0=b+(d-e)*c,gl_Position=vec4(a0,0.,1.);}",da:["a0"],U:[2],f:["u1","u34","u35"],precision:"lowp"},{id:"s51",name:"_",aa:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",c:"uniform sampler2D u37,u34;uniform vec3 u48,u49;uniform float u38,u39,u40,u41,u42,u43,u50;varying vec2 vv0;const vec4 e=vec4(.25,.25,.25,.25);void main(){vec4 g=texture2D(u37,vec2(.4375,.9375)),h=texture2D(u37,vec2(.5625,.9375)),a=texture2D(u34,vec2(.5,.5));float c=dot(g,e),i=dot(h,e);bool d=c>u41&&c>i+u42;d?a.r=2.:a.r>u40?a.r=0.:a.r>1.9&&(a.a>u39||a.a<u38)?a.r=0.:a.r>1.9?a.r+=1.:0.;if(a.r<.9)a.gba=u48,a.r=1.;else{float j=dot(e,texture2D(u37,vec2(.0625,.9375))),k=dot(e,texture2D(u37,vec2(.1875,.9375))),l=dot(e,texture2D(u37,vec2(.3125,.9375))),b;if(a.r>1.9)b=1.-u50;else b=1.,a.r=0.;float f=a.a*u43;a.gba+=vec3(j,k,l)*u49*b*f;}gl_FragColor=a;}",f:"u37 u34 u48 u38 u39 u40 u41 u42 u49 u43 u50".split(" ")},{id:"s50",name:"_",c:"uniform sampler2D u34;uniform vec3 u36;uniform vec2 u35;varying vec2 vv0;const vec2 i=vec2(1.,1.);void main(){vec4 g=texture2D(u34,vec2(.25,.5));vec2 h=g.gb;float j=g.a;vec2 a=j*u35,c=h+a,d=h;d-=a/2.,c-=a/2.;vec2 k=.5*(d+c),f=step(d,vv0)*step(vv0,c);float l=f.x*f.y;vec2 b=2.*abs(k-vv0)/a;b=pow(b,3.*i),gl_FragColor=vec4(l*u36*max(b.x,b.y),1.);}",f:["u34","u35","u36"],precision:"lowp"},{id:"s52",name:"_",c:"uniform sampler2D u1,u5;uniform float u44,u45,u50;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u5,vv0);float c=(1.-u50)*(u45-u44)+u44;gl_FragColor=mix(b,a,c*f);}",f:["u1","u5","u44","u45","u50"]}])},Jc:function(e){var t=new Float32Array([0,k.borderWidth,k.W,0]);e.Ia=d.a({isPot:!1,ce:!0,isFloat:!1,width:x,height:F}),e.la=d.a({isPot:!0,isFloat:!1,width:L}),t={width:1,height:1,isFloat:!0,isPot:!1,array:t},e.sa=m(t),e.Qb=m(t)},nc:function(){Q.$=d.a({v:Q.element,isPot:!1,isFloat:!1,isFlipY:!0}),P=d.a({isPot:!1,isFloat:!1,width:x,height:F})},i:function(){function s(e,t){return(I[4*(e+=D*t)]+I[4*e+1]+I[4*e+2]+I[4*e+3])/1020}function m(m){(A=new y).gd(m.layers),A.jd({Db:"gpuRaw",$c:function(m){var E=Y;if(E.sa.Mb(1),c.viewport(0,0,1,1),u.set("s51"),u.A("u50",ne),u.Nb("u48",t,a,r),u.Nb("u49",1*k.Ra[0],1*k.Ra[1],1*k.Ra[2]),v.g(!1,!1),1!=++e%2&&((r+=l)>S&&(r=C,(t+=n)>p&&(t=h,(a+=o)>b&&(a=g)))),E.Qb.Mb(1),u.set("s52"),u.A("u50",ne),E.sa.b(0),v.g(!1,!1),d.cd(m,I),V.forEach((function(e,t){if(ie.G){e=(k.yb+t)%D;var a=k.Tc+Math.floor((k.yb+t)/D);e=s(e,a=D-1-a),V[t]=e}else V[t]=0})),!k.rc&&ie.G)for(m=0;3>m;++m)E=(2*(E=s(m+k.Kb[0],k.Kb[1]))-1)*k.dd[m],E+=k.ed[m],J[m]=E;!function(){var e=s(k.ob[0],k.ob[1]);ie.na=k.nb*e+(1-k.nb)*ie.na,.6<ie.na&&!ie.G?(ie.Na.forEach((function(e){e(!0)})),ie.G=!0):.4>ie.na&&ie.G&&(ie.Na.forEach((function(e){e(!1)})),ie.G=!1)}(),E=(m=Date.now())-le;var _=s(k.Gb[0],k.Gb[1]);ue=i(k.Hb[0],k.Hb[1],_),_=s(k.S[0],k.S[1]);var y=s(k.S[0]+1,k.S[1]),R=s(k.S[0]+2,k.S[1]);for(oe=1-i(k.Jb[0],k.Jb[1],Math.sqrt(_*_+y*y+R*R)/E),_=se[0]-J[0],y=se[1]-J[1],R=se[2]-J[2],E=Math.sqrt(_*_+y*y+R*R)/E,se[0]=J[0],se[1]=J[1],se[2]=J[2],ce=1-i(k.Ib[0],k.Ib[1],E),ne=ue*oe*ce,le=m,ve[fe]=ne,fe=(fe+1)%k.Ma,m=0;m<k.Ma;++m)ne=Math.min(ve[m],ne);if(O.qd(V,ne,re.fa),H&&H(ne,re.fa),ie.G)for(m=k.Za[1]*ne+k.Za[0]*(1-ne),m*=re.fa,E=0;3>E;++E)$[E]=m*J[E]+(1-m)*$[E],q[E]=$[E];else m=Date.now()*k.ac,K[0]=k.$a[0]*Math.sin(m),K[1]=k.$a[1]*Math.cos(m),q[0]=K[0],q[1]=K[1],q[2]=K[2];m=Y,f.H(),P.u(),u.set("s50"),m.sa.b(0),v.g(!1,!1)}}),(m=A.Ac())!==L&&(L=m,me.qb(),Y.la.resize(L,L),me.Pb()),D=A.Fc(),E()}me.nc(),me.Jc(Y),z?m(z):function(e){var t=new XMLHttpRequest;t.open("GET",k.Ta+k.save,!0),t.withCredentials=!1,t.onreadystatechange=function(){4!==t.readyState||200!==t.status&&0!==t.status||e(t.responseText)},t.send()}((function(e){m(e=JSON.parse(e))}))},ld:function(e,t){for(var a in e)void 0!==t[a]&&(e[a]=t[a])},kc:function(e){M.xa&&M.xa();var t={video:{facingMode:{ideal:G.facingMode},width:{min:G.minWidth,max:G.maxWidth,ideal:G.idealWidth},height:{min:G.minHeight,max:G.maxHeight,ideal:G.idealHeight}},audio:M.Wa};G.deviceId&&(constraints.deviceId=G.deviceId),U((function(t,a){X=a,M.ya&&M.ya(),e(t)}),(function(){window.ua&&window.ua("WEBCAM_UNAVAILABLE")}),t)},wb:function(e,t){me.mc(),Q.element=e,j=Q.element,me.Tb(),me.qb(),me.Pb(),me.i(),t&&t()},mb:function(){var e=[-1,-1],t=Q.element;return"VIDEO"===t.nodeName?(e[0]=t.videoWidth,e[1]=t.videoHeight):(e[0]=t.width,e[1]=t.height),e},Tb:function(){var e=me.mb();Q.ga_[0]=e[0],Q.ga_[1]=e[1],s.ia().width=e[0],s.ia().height=e[1],k.width=e[0],k.height=e[1];var t=[.5,.5],a=e[1]/e[0];a>(e=s.F()/s.o())?1>=a?t[0]*=a:t[1]/=a:(t[0]*=a,a=1/e,t[0]*=a,t[1]*=a),t[1]*=e,u.C("s48",[{type:"1i",name:"u1",value:0},{type:"2f",name:"u46",value:t},{type:"2f",name:"u47",value:[.5,.5]}])}};return me}M.onLoad=function(e){M.ready?e():M.T.push(e)},M.set_audio=function(e){M.Wa=e},M.switch_displayVideo=function(e){M.ca=e,M.ba&&(M.ba.style.display=M.ca?"block":"none")},M.onWebcamAsk=function(e){M.xa=e},M.onContextLost=function(e){M.wa=e},M.onWebcamGet=function(e){M.ya=e},M.set_size=function(e,t){k.width=e,k.height=t},M.get_size=function(){return{width:k.width,height:k.height}},M.get_videoStream=function(){return X},M.get_video=function(){return j},M.get_cv=function(){return s.ia()},M.set_color=function(e){u.C("s50",[{type:"3f",name:"u36",value:e}])},M.init=function(e){var t=W(),a=e.callbackReady?e.callbackReady:function(e){console.log("ERR:",e)},i=!!e.callbackReady&&e.callbackReady.bind(!1);if(void 0===e.canvasId)a("NO_CANVASID");else if(document.getElementById(e.canvasId)){if(!M.initialized)return M.initialized=!0,window.ua=!!a&&function(e){a(e),window.ua=!1},e.NNCpath&&(k.Ta=e.NNCpath),void 0!==e.NNC&&(z="string"==typeof e.NNC?JSON.parse(e.NNC):e.NNC),i&&M.T.push(i),s.i({gb:e.canvasId,width:k.width,height:k.height,debug:!1,Ja:!1,Zc:function(){M.wa&&M.wa()},premultipliedAlpha:!1})?(M.ba=s.ia(),M.ca||(M.ba.style.display="none"),v.i(),f.i(),u.i(),d.i(),c.depthFunc(c.LEQUAL),c.clearDepth(1),e.videoSettings&&e.videoSettings.videoElement?t.wb(e.videoSettings.videoElement,!1):(e.videoSettings&&t.ld(G,e.videoSettings),t.kc((function(e){t.wb(e,!1)}))),!0):(a("GL_INCOMPATIBLE"),!1);a("ALREADY_INITIALIZED")}else a("INVALID_CANVASID")},window.JEEFACETRANSFERAPI=M,e.exports=JEEFACETRANSFERAPI}).call(this,a(18).Buffer)},,,,,,,,,,function(e,t,a){"use strict";var i=a(5);a.n(i).a},function(e,t,a){"use strict";var i=a(6);a.n(i).a},function(e,t,a){"use strict";var i=a(7);a.n(i).a},function(e,t,a){"use strict";var i=a(8);a.n(i).a},function(e,t,a){"use strict";var i=a(9);a.n(i).a},function(e,t,a){"use strict";var i=a(10);a.n(i).a},function(e,t,a){"use strict";var i=a(11);a.n(i).a},function(e,t,a){"use strict";a.r(t);var i=a(0),r=a(13),n=function(){var e=this.$createElement,t=this._self._c||e;return t("Fragment",[t("div",{staticClass:"bfg-wrapper"},[t("NavHeader"),this._v(" "),t("landing")],1),this._v(" "),t("bfgFooter")],1)};n._withStripped=!0;var o=a(2),u=(a(16),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container text-center bfg-container"},[e.step1?a("step1",{attrs:{loadinCamera:e.loading},on:{activeCamara:e.activeCamaraEvent,goToVideo:e.displayVideoInit}}):e._e(),e._v(" "),e.loading?a("div",{staticClass:"container mt-5"},[a("div",{staticClass:"justify-content-md-cente"},[a("PulseLoader",{attrs:{color:e.colorLoaer}})],1)]):e._e(),e._v(" "),e.isRemember?a("errorCamara",{attrs:{accessCamera:e.isAccessCameraToProps},on:{initVideo:e.displayVideoInit}}):e._e(),e._v(" "),a("canvas",{staticClass:"jeefacetransferCanvas",attrs:{id:"jeefacetransferCanvas"}}),e._v(" "),e.displayVideo?a("videoCamp",{attrs:{withCamera:e.isWithCamera,isPlay:e.isPlaying,faceDetected:e.isFaceDetected}}):e._e()],1)});u._withStripped=!0;var c={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return c.Android()||c.BlackBerry()||c.iOS()||c.Opera()||c.Windows()}},s=(a(17),a(15)),l=function(){var e,t,a={smileRight:0,smileLeft:0,eyeBrowLeftDown:0,eyeBrowRightDown:0,eyeBrowLeftUp:0,eyeBrowRightUp:0,mouthOpen:0,mouthRound:0,eyeRightClose:0,eyeLeftClose:0,mouthNasty:0},r=Object.keys(a),n=0,o=[0,0,0],u=!1;function c(t){t?i.a.set(i.a.prototype,"$isAccessCamera",!1):(i.a.set(i.a.prototype,"$videoInit",!0),e=JEEFACETRANSFERAPI.get_morphTargetInfluencesStabilized(),u&&(o=JEEFACETRANSFERAPI.get_rotation()),JEEFACETRANSFERAPI.set_morphUpdateCallback(s),JEEFACETRANSFERAPI.switch_displayVideo(!1),JEEFACETRANSFERAPI.on_detect((function(e){i.a.set(i.a.prototype,"$faceDetected",e)})))}function s(c,s){r.forEach((function(t,i){a[t]=e[i]}));var l,v=-2e12;t.forEach((function(e,t){l=e.svgSmile(a),(l+=n)>v&&(v=l),v>.12?i.a.set(i.a.prototype,"$smile",!0):i.a.set(i.a.prototype,"$smile",!1)})),u&&u(o)}function l(e,t,a){var i=e[a];e[a]=e[t],e[t]=i}return{init:function(e){t=e.expressions,e.suscribeSmile,void 0!==e.hysteresis&&(n=e.hysteresis),void 0!==e.rotationCallback&&(u=e.rotationCallback),e.isMirror&&(l(r,0,1),l(r,2,3),l(r,4,5),l(r,8,9)),JEEFACETRANSFERAPI.init({canvasId:e.canvasId,NNCpath:e.NNCpath?e.NNCpath:"./",callbackReady:c})},bioSmile:function(e,i){var r=t[e][i](a);detectedSmile=!(r<.8)},posX_SVGpath:function(e,t){var a=e.style.transform,i=t.toString()+"px";-1===a.indexOf("translate")?e.style.transform="translate("+i+", 0px) "+a:e.style.transform=a.replace(/translate\([0-9\.\-px]+\s*/,"translate("+i)},posY_SVGpath:function(e,t){var a=e.style.transform,i=t.toString()+"px";-1===a.indexOf("translate")?e.style.transform="translate(0px, "+i+") "+a:e.style.transform=a.replace(/translate\(([0-9\.\-px]+\s*),\s*[0-9\.\-px]+\s*/,"translate($1,"+i)},pos_SVGpath:function(e,t,a){var i=e.style.transform,r=Math.round(t).toString()+"px",n=Math.round(a).toString()+"px";-1===i.indexOf("translate")?e.style.transform="translate("+r+","+n+") "+i:e.style.transform=i.replace(/translate\(\s*[0-9\.\-px]+\s*,\s*[0-9\.\-px]+\s*/,"translate("+r+","+n)},rot_SVGpath:function(e,t){var a=e.style.transform,i=t.toFixed(2)+"deg";-1===a.indexOf("rotate")?e.style.transform="rotate("+i+") "+a:e.style.transform=a.replace(/rotate\(\s*[0-9\.\-deg]+/,"rotate("+i)},smileShow:"NO SONRRIE"}}(),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Fragment",[e.step2Visible&&e.withCamera&&!e.videoLoaded?a("step2",{attrs:{isSmile:e.isSmile,isDetected:e.faceDetected,videoLoaded:e.videoLoaded,alreadySmile:e.alreadySmile}}):e._e(),e._v(" "),e.step3?a("noStopSmile"):e._e(),e._v(" "),a("div",{staticClass:"bfg-container-video"},[a("div",{class:{active:e.isActive}},[a("youtube",{attrs:{"video-id":e.videoId,"player-vars":{autoplay:0,rel:0,playsinline:1}},on:{ready:e.ready,playing:e.playing}})],1)]),e._v(" "),a("div",{staticClass:"row justify-content-md-center mt-5 mb-5"},[a("div",{staticClass:"col col-md-10 col-lg-7 animate fadeIn"},[a("span",{staticClass:"bfg-text-1"},[e._v("Los "),a("strong",[e._v("agentes de cambio activos")]),e._v(" nos reconocemos por la "),a("strong",[e._v("sonrisa plena")])])])]),e._v(" "),a("div",{staticClass:"row justify-content-md-center mt-5"},[a("div",{staticClass:"col col-lg-6"},[a("span",{staticClass:"bfg-text-1 bfg-text-light  animate fadeIn fast"},[a("strong",[e._v("¿Quieres ser uno más?")])])])]),e._v(" "),a("div",{staticClass:"row justify-content-md-center mt-3"},[a("div",{staticClass:"col col-lg-8"},[a("span",{staticClass:"bfg-text-2  animate fadeIn fast"},[e._v("Ven a la próxima BeForGet Talk y preséntate a Comunidad")])])]),e._v(" "),a("div",{staticClass:"row justify-content-md-center mt-5"},[a("div",{staticClass:"col-lg-12"},[a("a",{staticClass:"btn btn-primary bfg-primary  animate fadeIn fast",attrs:{href:"https://www.beforget.com/talks"}},[e._v("Inscríbete y conócenos")])])])],1)};v._withStripped=!0;var f=a(12),d=a.n(f),m=a(14),h=a.n(m),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bfg-smile-modal"},[a("div",{staticClass:"row justify-content-md-center"},[a("div",{staticClass:"col col-lg-12"},[e.isDetected||e.videoLoaded||e.alreadySmile?e._e():a("span",{staticClass:"bfg-smile-title  animate fadeIn fast"},[e._v("Espera un momento por favor....")]),e._v(" "),e.isSmile||!e.isDetected||e.videoLoaded||e.alreadySmile?e._e():a("span",{staticClass:"bfg-smile-title  animate fadeIn fast"},[e._v("Estamos enfocando...\n¡sonríe ahora!")]),e._v(" "),e.alreadySmile?a("span",{staticClass:"bfg-smile-title animate fadeIn fast"},[e._v("WOW, ¡bonita sonrisa!")]):e._e()])]),e._v(" "),e.isDetected?a("div",{staticClass:"row justify-content-md-center mt-5"},[a("img",{attrs:{src:e.icono,alt:""}})]):e._e()])};g._withStripped=!0;var p=a.p+"2a98607c2f73790cda8cbb63f400ea8f.png",b={name:"step2",props:["isSmile","isDetected","videoLoaded","alreadySmile"],data:function(){return{icono:p}}},E=a(1),_=Object(E.a)(b,g,[],!1,null,null,null);_.options.__file="src/components/step2.vue";var y=_.exports,R=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bfg-smile-modal"},[this._m(0),this._v(" "),t("div",{staticClass:"row justify-content-md-center mt-5"},[t("img",{attrs:{src:this.iconoSaid,alt:""}})])])};R._withStripped=!0;var T=a.p+"8bddb1cb9d64ffc53b38df61744e540e.png",x={name:"noStopSmile",data:function(){return{iconoSaid:T}}},F=Object(E.a)(x,R,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row justify-content-md-center"},[t("div",{staticClass:"col col-lg-12"},[t("span",{staticClass:"Toda-relacin-prspe "},[this._v("No dejes de Sonreir!")])])])}],!1,null,null,null);F.options.__file="src/components/noStopSmile.vue";var A={name:"videoCamp",components:{step2:y,noStopSmile:F.exports,Fragment:o.a},props:["isPlay","withCamera","faceDetected"],data:function(){return{player:null,videoId:"mutWIjpO23E",step2Visible:!0,step3:!1,isSmile:!1,videoReady:!1,videoLoaded:!0,isActive:!1,alreadySmile:!1}},watch:{isPlay:function(e){var t=this;if(this.videoReady&&e){this.alreadySmile=!0;h()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout((function(){e()}),2500)}));case 2:t.play(),t.isActive=!0,t.isSmile=!0,t.step2Visible=!1,t.step3=!1,JEEFACETRANSFERAPI.switch_sleep(!0);case 8:case"end":return e.stop()}}),e)})))()}}},methods:{playing:function(e){e.target.loadPlaylist()},ready:function(e){this.player=e.target,this.videoLoaded=!1,this.videoReady=!0},play:function(){this.player.playVideo()},pause:function(){this.player.pauseVideo()}},created:function(){this.withCamera||(this.isActive=!0)}},D=(a(27),Object(E.a)(A,v,[],!1,null,null,null));D.options.__file="src/components/videoCamp.vue";var w=D.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Fragment",[a("div",{staticClass:"row justify-content-md-center"},[a("div",{staticClass:"col col-md-12 col-lg-9"},[e.loadinCamera?e._e():a("span",{staticClass:"bfg-smile-title  animate fadeIn fast"},[e._v("Las relaciones sostenibles comienzan con una sonrisa :)")]),e._v(" "),e.loadinCamera?a("span",{staticClass:"bfg-smile-title  animate fadeIn fast bfg-frase-small"},[e._v("¿Sabías que la sonrisas se contagian?")]):e._e()])]),e._v(" "),e.isVisibleButton?a("div",{staticClass:"row justify-content-md-center my-6 animate fadeIn fast"},[a("div",{staticClass:"col col-sm-12"},[a("span",{staticClass:"activa-tu-webcam-par"},[e._v("Activa tu webcam para capturar tu sonrisa y conoce más de BeForGet Community")])])]):e._e(),e._v(" "),e.isVisibleButton?a("div",{staticClass:"row justify-content-md-center mt-lg-5"},[a("div",{staticClass:"col-lg-12"},[a("button",{staticClass:"btn btn-primary bfg-primary  animate fadeIn fast",on:{click:e.activeCamara}},[e._v("Activa tu webcam")])]),e._v(" "),a("div",{staticClass:"col-lg-12 mt-4"},[a("button",{staticClass:"btn btn-primary bfg-secundary  animate fadeIn fast",on:{click:e.goToVideo}},[e._v("Ups! No tengo cámara")])])]):e._e()])};C._withStripped=!0;var S={name:"step1",props:["loadinCamera"],components:{Fragment:o.a},data:function(){return{isVisibleButton:!0}},computed:{getLoading:function(){return this.loading}},methods:{activeCamara:function(){this.isVisibleButton=!1,this.$emit("activeCamara")},goToVideo:function(){this.$emit("goToVideo")}}},P=(a(28),Object(E.a)(S,C,[],!1,null,null,null));P.options.__file="src/components/step1.vue";var I=P.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row justify-content-md-center"},[a("div",{staticClass:"col col-lg-9"},[e.accessCamera?e._e():a("span",{staticClass:"Toda-relacin-prspe bfg-text-small"},[e._v("ops! que pena, hay un problema con tu webcam "),a("br"),e._v(" No importa, igual puedes disfrutar de nuestro video")])])]),e._v(" "),a("div",{staticClass:"row justify-content-md-center mt-5"},[a("div",{staticClass:"col-lg-12 mt-4"},[e.accessCamera?e._e():a("button",{staticClass:"btn btn-primary bfg-secundary",on:{click:e.initVideo}},[e._v("Ver video")])])])])};L._withStripped=!0;var B={name:"errorCamara",props:["accessCamera"],methods:{initVideo:function(){this.$emit("initVideo")}}},N=(a(29),Object(E.a)(B,L,[],!1,null,null,null));N.options.__file="src/components/errorCamara.vue";var U={name:"landing",components:{step1:I,errorCamara:N.exports,videoCamp:w,PulseLoader:s.a},props:["dataSlime"],data:function(){return{smile:!1,step1:!0,isRemember:!1,displayVideo:!1,isFaceDetected:!1,isAccessCameraToProps:!0,isPlaying:!1,isWithCamera:!1,colorLoaer:"#676edd",loading:!1}},watch:{$smile:function(e){e?this.isPlaying=!0:(this.isPlaying=!1,this.isSmile=!1)},$faceDetected:function(e){this.isFaceDetected=!0,this.step1=!1,this.isRemember=!1,this.isWithCamera=!0,this.loading=!1,this.displayVideoInit()},$videoInit:function(e){},$isAccessCamera:function(e){e||(this.loading=!1,this.isAccessCameraToProps=!1,this.step1=!1,this.isRemember=!0)}},methods:{activeCamaraEvent:function(){this.initVideoSmile()},displayVideoInit:function(){this.displayVideo=!0,this.step1=!1,this.isRemember=!1},initVideoSmile:function(){this.loading=!0,l.init({canvasId:"jeefacetransferCanvas",NNCpath:"./",hysteresis:.1,isMirror:!0,expressions:[{svgSmile:function(e){return e.smileRight+e.smileLeft}}]})}},mounted:function(){c.any()&&Vue.set(Vue.prototype,"$mobileDetected",!0)}},O=(a(30),Object(E.a)(U,u,[],!1,null,null,null));O.options.__file="src/components/landing.vue";var M=O.exports,G=function(){var e=this.$createElement,t=this._self._c||e;return t("header",{staticClass:"container text-center bfg-my-5"},[t("a",{attrs:{href:"https://www.beforget.com/talks"}},[t("img",{attrs:{src:this.urlLogo,alt:""}})])])};G._withStripped=!0;var k=a.p+"576a8f8db62109090d75a88b47590659.png",X={name:"headerApp",data:function(){return{urlLogo:k}}},j=(a(31),Object(E.a)(X,G,[],!1,null,null,null));j.options.__file="src/components/header.vue";var z=j.exports,W=function(){var e=this.$createElement,t=this._self._c||e;return t("footer",{staticClass:"container-fluid text-center mt-footer-bfg"},[t("div",{staticClass:"text-center"},[t("img",{attrs:{src:this.logoFooter,alt:""}})])])};W._withStripped=!0;var Y=a.p+"87ea1c80c5442fc8bb7502c10f183a78.png",V={name:"bfgFooter",data:function(){return{logoFooter:Y}}},H=(a(32),Object(E.a)(V,W,[],!1,null,null,null));H.options.__file="src/components/footer.vue";var J={name:"app",components:{landing:M,NavHeader:z,bfgFooter:H.exports,Fragment:o.a}},$=(a(33),Object(E.a)(J,n,[],!1,null,null,null));$.options.__file="src/js/App.vue";var K=$.exports;i.a.use(r.a,{global:!0,componentId:"youtube"});var q=i.a.observable({smile:!1}),Z=i.a.observable({faceDetected:!1}),Q=i.a.observable({videoInit:!1}),ee=i.a.observable({isAccessCamera:!0}),te=i.a.observable({mobileDetected:!1});Object.defineProperty(i.a.prototype,"$smile",{get:function(){return q.smile},set:function(e){q.smile=e}}),Object.defineProperty(i.a.prototype,"$faceDetected",{get:function(){return Z.faceDetected},set:function(e){Z.faceDetected=e}}),Object.defineProperty(i.a.prototype,"$videoInit",{get:function(){return Q.videoInit},set:function(e){Q.videoInit=e}}),Object.defineProperty(i.a.prototype,"$isAccessCamera",{get:function(){return ee.isAccessCamera},set:function(e){ee.isAccessCamera=e}}),Object.defineProperty(i.a.prototype,"$mobileDetected",{get:function(){return te.mobileDetected},set:function(e){te.mobileDetected=e}}),new i.a({el:"#app",render:function(e){return e(K)}}),i.a.config.devtools=!1}]);
//# sourceMappingURL=main.8396b3db0ad4ea4b259e.bundle.js.map